<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="HB03.MS1.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header class="header">
            <h2>UMC Study Plan</h2>
        </header>
        <main class="c-main">
            <!-- <form class="d-flex justify-center">
            </form> -->
            <input id="task" type="text" placeholder="오늘의 할 일"
            class="inputBox d-flex justify-center">
            <section class="box box2">
                <article id="do" style="width: 50%;">
                    <h5 class="borderBot">해야 할일</h5>
                    <div id="do-list"></div>
                </article>
                <article id="done" style="width: 50%;">
                    <h5 class="borderBot">해낸 일</h5>
                    <div id="done-list"></div>
                </article>
            </section>
        </main>
    </div>
<script>
    const taskBox = document.querySelector("#task");
    const doList = document.querySelector("#do-list");
    const doneList = document.querySelector("#done-list");

taskBox.addEventListener("keydown", (event) => {
    if (event.key === "Enter" && taskBox.value.trim() !== "") {
        addTask(taskBox.value);
        taskBox.value = "";
    }
});

function addTask(doTask) {
    const newCheckBox = document.createElement("div");
    newCheckBox.classList.add("checkBox");

    const newTask = document.createElement("p");
    newTask.textContent = doTask;

    const doneBtn = document.createElement("button");
    doneBtn.classList.add("btn");
    doneBtn.textContent = "완료";

    doneBtn.addEventListener("click", () => moveToDone(newCheckBox));

    newCheckBox.appendChild(newTask);
    newCheckBox.appendChild(doneBtn);
    doList.appendChild(newCheckBox);
}

function moveToDone(newCheckBox) {
    const doneBtn = newCheckBox.querySelector("button");
    if (doneBtn) {
        newCheckBox.removeChild(doneBtn);
    }

    const deleteBtn = document.createElement("button");
    deleteBtn.classList.add("btn");
    deleteBtn.textContent = "삭제";

    deleteBtn.addEventListener("click", () => {
        doneList.removeChild(newCheckBox);
    });

    newCheckBox.appendChild(deleteBtn);
    doneList.appendChild(newCheckBox);
}

</script>
</body>
</html>